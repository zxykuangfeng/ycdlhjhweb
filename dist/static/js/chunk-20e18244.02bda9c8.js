(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20e18244"],{5497:function(t,a,e){"use strict";e("f7fb")},b304:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"header-container"},[e("div",{staticClass:"header-item"},[e("span",{staticClass:"label-title"},[t._v("申请编号：")]),t._v(" "),e("span",{staticClass:"value"},[t._v(t._s(t.materialData.id||"暂无"))])]),t._v(" "),e("div",{staticClass:"header-item"},[e("span",{staticClass:"label-title"},[t._v("创建时间：")]),t._v(" "),e("span",{staticClass:"value"},[t._v(t._s(t.formatTimestamp(t.materialData.create_time)))])])]),t._v(" "),e("el-card",{staticClass:"info-card"},[e("h3",{staticClass:"card-title"},[t._v("基本信息")]),t._v(" "),e("el-row",{staticClass:"info-row",attrs:{gutter:20}},[e("el-col",{staticClass:"info-item",attrs:{span:8}},[e("strong",[t._v("项目名称：")]),t._v(t._s(t.materialData.name||"暂无")+"\n      ")]),t._v(" "),e("el-col",{staticClass:"info-item",attrs:{span:8}},[e("strong",[t._v("施工方式：")]),t._v(t._s(t.materialData.construction_method||"暂无")+"\n      ")])],1),t._v(" "),e("h3",{staticClass:"card-title"},[t._v("建设单位")]),t._v(" "),e("el-row",{staticClass:"info-row",attrs:{gutter:20}},[e("el-col",{staticClass:"info-item",attrs:{span:8}},[e("strong",[t._v("单位名称：")]),t._v(t._s(t.materialData.build_unit_name||"暂无")+"\n      ")]),t._v(" "),e("el-col",{staticClass:"info-item",attrs:{span:8}},[e("strong",[t._v("负责人：")]),t._v(t._s(t.materialData.build_unit_leader||"暂无")+"\n      ")]),t._v(" "),e("el-col",{staticClass:"info-item",attrs:{span:8}},[e("strong",[t._v("联系方式：")]),t._v(t._s(t.materialData.build_unit_contact||"暂无")+"\n      ")])],1),t._v(" "),e("h3",{staticClass:"card-title"},[t._v("施工单位")]),t._v(" "),e("el-row",{staticClass:"info-row",attrs:{gutter:20}},[e("el-col",{staticClass:"info-item",attrs:{span:8}},[e("strong",[t._v("单位名称：")]),t._v(t._s(t.materialData.construction_unit_name||"暂无")+"\n      ")]),t._v(" "),e("el-col",{staticClass:"info-item",attrs:{span:8}},[e("strong",[t._v("负责人：")]),t._v(t._s(t.materialData.construction_unit_leader||"暂无")+"\n      ")]),t._v(" "),e("el-col",{staticClass:"info-item",attrs:{span:8}},[e("strong",[t._v("联系方式：")]),t._v(t._s(t.materialData.construction_unit_contact||"暂无")+"\n      ")])],1)],1),t._v(" "),e("el-card",{staticClass:"materials-card"},[e("h3",{staticClass:"card-title"},[t._v("上传材料")]),t._v(" "),e("el-row",{staticClass:"materials-row",attrs:{gutter:20}},t._l(t.materialFiles,(function(a,s){return e("el-col",{key:s,staticClass:"material-section",attrs:{span:24}},[e("div",{staticClass:"material-title"},[t._v(t._s(t.fileLabels[s]))]),t._v(" "),e("ul",{staticClass:"material-list"},t._l(a,(function(a,s){return e("li",{key:s},[e("a",{staticClass:"file-link",attrs:{href:t.getFileUrl(a),download:a}},[t._v(t._s(a))])])})),0)])})),1)],1)],1)},r=[],i=(e("96cf"),e("1da1")),n=(e("ac6a"),e("456d"),e("012d")),l={name:"ViewMaterials",data:function(){return{materialData:{},fileLabels:{traffic_plan:"交通设施方案",fence_plan:"围挡方案",construction_plan:"施工方案",construction_drawing:"施工图纸",safety_commitment:"安全施工承诺书",change_plan:"导改方案",application_form:"施工申请单",security_plan:"安保方案"}}},computed:{materialFiles:function(){var t=this;return Object.keys(this.fileLabels).reduce((function(a,e){return t.materialData[e]&&Array.isArray(t.materialData[e])&&(a[e]=t.materialData[e]),a}),{})}},methods:{fetchMaterialData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this.$route.query.id,a){t.next=4;break}return this.$message.error("缺少申请编号"),t.abrupt("return");case 4:return t.prev=4,t.next=7,Object(n["hb"])(a);case 7:e=t.sent,0===e.code?this.materialData=e.data:this.$message.error("获取申请材料失败"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),console.error("Error fetching material data:",t.t0);case 14:case"end":return t.stop()}}),t,this,[[4,11]])})));function a(){return t.apply(this,arguments)}return a}(),formatTimestamp:function(t){if(!t)return"暂无";var a=new Date(1e3*t);return a.toLocaleString()},getFileUrl:function(t){return"http://roadserver.lysoo.com:8081/".concat(t)}},created:function(){this.fetchMaterialData()}},c=l,o=(e("5497"),e("2877")),_=Object(o["a"])(c,s,r,!1,null,"30ce36b0",null);a["default"]=_.exports},f7fb:function(t,a,e){}}]);