(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c8434"],{"53aa":function(t,e,i){"use strict";i.r(e);var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入施工企业名称",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}}),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("搜索")])],1),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"施工企业名称",prop:"name","min-width":"200px",align:"center","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{label:"负责人",prop:"fzr","min-width":"150px",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"联系方式",prop:"tel","min-width":"200px",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handleViewDetails(l)}}},[t._v("查看备案材料")])]}}])})],1),t._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}}),t._v(" "),i("el-dialog",{attrs:{title:"施工企业备案材料",visible:t.detailDialogVisible,width:"600px"},on:{"update:visible":function(e){t.detailDialogVisible=e}}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.recordFiles,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"备案材料名称",prop:"name","min-width":"250px",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.downloadFile(l.url)}}},[t._v("查看")])]}}])})],1)],1)],1)},n=[],a=i("012d"),r={data:function(){return{list:[],total:0,listQuery:{page:1,limit:20,name:""},detailDialogVisible:!1,recordFiles:[]}},created:function(){this.getList()},methods:{getList:function(){var t=this;Object(a["jb"])(this.listQuery).then((function(e){0===e.code&&(t.list=e.data,t.total=e.data.length)}))},handleFilter:function(){this.getList()},handleViewDetails:function(t){var e=this;Object(a["ib"])(t.id).then((function(t){0===t.code&&(e.recordFiles=t.data.imgs.map((function(t){return{name:t,url:"http://roadserver.lysoo.com:8081/".concat(t)}})),e.detailDialogVisible=!0)}))},downloadFile:function(t){window.open(t,"_blank")}}},o=r,s=i("2877"),c=Object(s["a"])(o,l,n,!1,null,null,null);e["default"]=c.exports}}]);